[cmake]
minimum = "3.15"

[project]
name = "cmkr"
version = "0.1.3"

[fetch-content]
toml11 = { url = "https://github.com/ToruNiina/toml11/archive/v3.6.0.tar.gz" }
filesystem = { url = "https://github.com/gulrak/filesystem/archive/v1.5.2.tar.gz" }
mpark_variant = { url = "https://github.com/mpark/variant/archive/v1.4.0.tar.gz" }

[[target]]
name = "cmkrlib"
type = "static"
sources = ["src/cmkrlib/*.cpp", "src/cmkrlib/*.hpp", "include/*.h"]
include-directories = ["include"]
compile-features = ["cxx_std_11"]
link-libraries = ["toml11::toml11", "ghc_filesystem", "mpark_variant"]

[[target]]
name = "cmkr"
type = "executable"
sources = ["src/main.cpp"]
link-libraries = ["cmkrlib"]

[[install]]
targets = ["cmkr"]
destination = "${CMAKE_INSTALL_PREFIX}/bin"
